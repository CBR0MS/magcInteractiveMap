{% extends 'base.html' %} 
{% block head_title %}{{ point.short_name }}{% endblock %}
{% block head %}
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

<style type="text/css">
    h1 {
        max-width: 550px;
        margin: auto !important;
    }
    html, body {
        background-color: #e8ebef;
    }
</style>
{% endblock %}

{% block content %}

    {% load static %}
<div class="container-fluid" style="background-color:#e8ebef;">
    <div class="container native" style="">
        <img src="{{ point.main_image.url }}" class="img-fluid center-block main-image rounded" style="width:100%;position:sticky; top:0px;">
    </div>
    <div class="container rounded shrink shadow" style="margin-bottom: 20px;">
        <div class="faded-background center-block" style="width:{{ point.main_image.width }}px;"></div>
        <div class="back-fill" style="background-color: #f7f7f7; margin: 0; position: relative;">
            {% if point.long_name %}
                <h1 class="text-center" >{{ point.long_name }}</h1>
            {% else %}
                <h1 class="text-center">{{ point.short_name }}</h1>
            {% endif %}
        </div>
        <div class="content-cover rounded">
            <br>
            <div class="tags center-block">
                {% for tag in point.tags.all %}
                    <div class="btn btn-outline" style="color:{{ tag.color }}; border-color:{{ tag.color}}; cursor: default;">{{ tag.name }}</div>
                {% endfor %}
            </div>
            <br>
            <p class="center-block paragraph">{{ point.short_description}}</p>

            {% if images %}
                <div class=" slider ">
                    {% for i in images %}
                        <div><img class="rounded" src="/media/{{ forloop.counter }}/{{ point.id }}.jpg" style="width: 100%;"></div>
                    {% endfor %}  
                </div>

                {% if imgNum > 1 %}
                <div class="tags center-block">
                    <button class="left-btn btn"><i class="fas fa-caret-left fa-lg"></i></button>
                    <button class="right-btn btn"><i class="fas fa-caret-right fa-lg"></i></button>
                </div>
                {% endif %}
            {% endif %}

            {% if point.long_description %}
                <p class="center-block paragraph">{{ point.long_description}}</p>
            {% endif %}

                <button type="button" class="btn " id="share" 
                    data-toggle="button" 
                    aria-pressed="false"
                    onclick="displayShare()" 
                    style="background-color:#4B577D33; width: 200px; display: block; margin: 0 auto;"
                    > Share this page 
            </button>
            <br>

            <div class="container text-center" id="share-details" style="visibility: hidden; background-color:#4B577D33;">
                <div style="padding: 10px;">
                <p>Short Link <em>(click to copy)</em> <br> <span id="loc" class="copyable"><b>{{ request.get_host }}/map/?{{ point.id }}=open</b></span></p>
                <p>QR Code <em>(click to copy)</em></p>
                <div id="qrcode" class="copyable" style="margin: 0 auto;"></div>
                </div>
            </div>

            <br>



        </div>
    </div>
</div>

{% endblock %}

{% block scripts%}
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script type="text/javascript" src="{% static "qrcode.min.js" %}"></script>
<script type="text/javascript" src="{% static "detail.js" %}"></script>

{% endblock %}
